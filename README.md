Сначаала распишу какой код в какой директории лежит
1. backend - код бэкенда
2. frontend - код фронта
3. grafana - helm чарт для развертывания графаны. 
4. kubernetes - старые манифесты, можно не смотреть, актуальное далее
5. loki - helm чарт для развертывания локи. 
6. momo-store-chart - helm чарт для развертывания фронта и бэка в кубере. 
7. prometheus - helm чарт для развертывания прометея
8. promtail - helm чарт для развертывания промтейла
9. terraform - код инфраструктуры в облаке

В каждой директории лежит отдельный CI файл для сборки. Тригерится при изменении в директории. 
Фронт и бэк тестируются, формируют докер образ и отправляют его в ci container registry. Версионируются номером пайплайна (0.0.CI_PIPELINE_ID)
Grafana, loki, prometheus, promtail и чарт для приложения собираются и заливаются в отдельные Helm репозитории в нексусе. Версионируются также номером пайплайна.
Затем можно запустить джобу деплоя отдельно для каждого пайплайна, которая скачивает последнюю версию чарта из нексуса и деплоит в кластер

Что включается в себя терраформ. Создаёт бакет для логов локи. Создаёт кластер кубера и группу узлов для него. Создаёт дев стенд, с которого все деплоится в кластер. ( реализовать накат на дев helm, kubectl и прочих дистрибутивов для управления кластером через ansble уже скорее всего не успеваю, но может быть к моменты проверки здесь появится директория ansible=) )
Состояние терраформ хранится в S3 в облаке.
В облаке развернут DNS. Все сервисы доступны по доменным именам. Реализовано через nginx ingress

Теперь эндпоинты.
Пельменная - https://momo-store.dns-cloud.net/momo-store
Прометей - http://prometheus.momo-store.dns-cloud.net
Графана - http://grafana.momo-store.dns-cloud.net Можно зайти посмотреть под логином - view_user и паролем - view_user. Есть 2 дашборда, один для логов, другой для метрик
В нексусе репозитории с чартами можно посмотреть по именам momo-store-vduplyakin, loki-vduplyakin, grafana-vduplyakin и т.д

Храню все в одном репозитории для удобства и простоты объяснения где и что искать) Понимаю, что инфру лучше вынести в отдельный репозиторий.
